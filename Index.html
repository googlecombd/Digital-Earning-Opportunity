<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Superstar Academy | Executive Assessment</title>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #818cf8;
            --success: #10b981;
            --danger: #f43f5e;
            --bg-gradient: linear-gradient(135deg, #f8faff 0%, #eef2ff 100%);
            --glass-bg: rgba(255, 255, 255, 0.9);
            --text-main: #1e293b;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        body { 
            background: var(--bg-gradient);
            font-family: 'Outfit', 'Hind Siliguri', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-main);
            overflow: hidden;
            touch-action: none;
        }

        #canvas {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }

        .shape {
            position: absolute; border-radius: 50%; filter: blur(60px); z-index: 0; opacity: 0.4;
            animation: move 20s infinite alternate;
        }
        .shape-1 { width: 300px; height: 300px; background: var(--primary); top: -50px; left: -50px; }
        .shape-2 { width: 250px; height: 250px; background: var(--secondary); bottom: -50px; right: -50px; animation-delay: -5s; }
        @keyframes move { from { transform: translate(0,0); } to { transform: translate(50px, 100px); } }

        #loader {
            position: fixed; inset: 0; background: #fff; z-index: 9999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
        }
        .loader-ring { width: 60px; height: 60px; border: 4px solid #f1f5f9; border-top-color: var(--primary); border-radius: 50%; animation: spin 0.8s infinite linear; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .app-container {
            width: 92%; max-width: 650px; z-index: 10; display: none;
            perspective: 1000px;
        }

        .premium-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-radius: 35px; padding: 45px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.6);
            position: relative; overflow: hidden;
        }

        .premium-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .header-section { text-align: center; margin-bottom: 30px; }
        .official-badge {
            background: rgba(79, 70, 229, 0.1); color: var(--primary);
            padding: 6px 15px; border-radius: 50px; font-size: 11px;
            font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px;
            display: inline-block; margin-bottom: 15px;
        }
        .main-title { font-size: 2rem; font-weight: 800; color: #0f172a; margin-bottom: 5px; }
        
        .mentor-card {
            background: #fff; display: inline-flex; align-items: center; padding: 10px 20px;
            border-radius: 20px; border: 1px solid #e2e8f0; margin-top: 10px;
        }
        .mentor-details { text-align: left; margin-left: 12px; }
        .mentor-details h4 { font-size: 0.95rem; color: var(--primary); font-weight: 800; }
        .mentor-details p { font-size: 0.75rem; color: #64748b; font-weight: 600; }

        .lang-toggle { position: absolute; top: 25px; right: 25px; display: flex; background: #f1f5f9; padding: 4px; border-radius: 12px; }
        .tgl-btn { padding: 6px 12px; border: none; background: none; font-size: 11px; font-weight: 800; cursor: pointer; border-radius: 8px; transition: 0.3s; }
        .tgl-btn.active { background: white; color: var(--primary); box-shadow: 0 4px 6px rgba(0,0,0,0.05); }

        .progress-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-weight: 700; font-size: 0.9rem; }
        .progress-track { height: 10px; background: #f1f5f9; border-radius: 50px; margin-bottom: 35px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); width: 0%; transition: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }

        .question-box h3 { font-size: 1.3rem; font-weight: 700; margin-bottom: 25px; line-height: 1.5; color: #0f172a; }
        
        .opt-item {
            background: white; border: 2px solid #f1f5f9; padding: 20px;
            border-radius: 20px; margin-bottom: 15px; cursor: pointer;
            display: flex; align-items: center; justify-content: space-between;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-weight: 600;
        }
        .opt-item:hover:not(.locked) { transform: scale(1.02); border-color: var(--primary); background: #f5f7ff; }
        .opt-item.correct { background: #ecfdf5 !important; border-color: var(--success) !important; color: #065f46; }
        .opt-item.wrong { background: #fff1f2 !important; border-color: var(--danger) !important; color: #9f1239; }
        
        .opt-icon { width: 24px; height: 24px; border-radius: 50%; border: 2px solid #e2e8f0; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .correct .opt-icon { background: var(--success); border-color: var(--success); color: white; }
        .wrong .opt-icon { background: var(--danger); border-color: var(--danger); color: white; }

        .action-area { display: flex; gap: 15px; margin-top: 30px; }
        .nav-btn {
            flex: 1; padding: 20px; border-radius: 20px; border: none;
            font-size: 1rem; font-weight: 800; cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn-next { background: var(--primary); color: white; box-shadow: 0 10px 20px -5px rgba(79, 70, 229, 0.4); }
        .btn-back { background: #f1f5f9; color: #64748b; }

        .input-wrap { text-align: left; margin-bottom: 25px; }
        .input-wrap label { display: block; font-weight: 700; color: #475569; margin-bottom: 10px; font-size: 0.9rem; }
        .input-wrap input { 
            width: 100%; padding: 18px; border-radius: 18px; border: 2px solid #e2e8f0;
            background: #f8fafc; font-size: 1rem; transition: 0.3s;
        }

        /* ‡¶≤‡¶æ‡¶≤ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ */
        .input-error {
            border-color: var(--danger) !important;
            background: #fff1f2 !important;
            animation: shake 0.4s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .score-display {
            width: 150px; height: 150px; border-radius: 50%; border: 8px solid var(--primary);
            margin: 0 auto 25px; display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; font-weight: 900; color: var(--primary); background: #f5f7ff;
        }
    </style>
</head>
<body>

    <audio id="sound-click" src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"></audio>
    <audio id="sound-success" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
    <audio id="sound-error" src="https://assets.mixkit.co/active_storage/sfx/2573/2573-preview.mp3"></audio>

    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <canvas id="canvas"></canvas>

    <div id="loader">
        <div class="loader-ring"></div>
        <p style="margin-top: 20px; font-weight: 800; letter-spacing: 2px; color: var(--primary);">AUTHENTICATING...</p>
    </div>

    <div class="app-container" id="app">
        <div class="premium-card">
            
            <div class="lang-toggle">
                <button class="tgl-btn active" id="btn-en" onclick="changeLang('en')">EN</button>
                <button class="tgl-btn" id="btn-bn" onclick="changeLang('bn')">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
            </div>

            <div class="header-section">
                <div class="official-badge">Verified Assessment</div>
                <h1 class="main-title">Superstar Academy</h1>
                <div class="mentor-card">
                    <img src="https://cdn-icons-png.flaticon.com/512/1995/1995539.png" width="35" alt="Mentor">
                    <div class="mentor-details">
                        <h4>Juwel Rana Sir</h4>
                        <p>Corporate Trainer ‚Ä¢ Co-Founder ‚Ä¢ Manager</p>
                    </div>
                </div>
            </div>

            <div id="screen-start">
                <div class="input-wrap">
                    <label id="lbl-u">Candidate Full Name</label>
                    <input type="text" id="userName" placeholder="Enter your official name" oninput="this.classList.remove('input-error')">
                </div>
                <div class="input-wrap">
                    <label id="lbl-m">Assigned Mentor Name</label>
                    <input type="text" id="mentorName" placeholder="Enter mentor name" oninput="this.classList.remove('input-error')">
                </div>
                <button class="nav-btn btn-next" style="width: 100%;" onclick="initQuiz()">
                    Access Assessment <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div id="screen-quiz" style="display: none;">
                <div class="progress-meta">
                    <span id="q-count">Question 1/10</span>
                    <span id="q-percent">0%</span>
                </div>
                <div class="progress-track"><div class="progress-bar" id="p-bar"></div></div>
                <div class="question-box" id="q-area"></div>
                <div class="action-area">
                    <button class="nav-btn btn-back" id="backBtn" onclick="prevQ()">Back</button>
                    <button class="nav-btn btn-next" id="nextBtn" onclick="nextQ()">Next</button>
                </div>
            </div>

            <div id="screen-result" style="display: none; text-align: center;">
                <div class="score-display" id="final-p">0%</div>
                <h2 id="final-h" style="font-size: 1.8rem; margin-bottom: 10px;">Excellent Performance!</h2>
                <p id="final-sub" style="color: #64748b; margin-bottom: 30px; font-weight: 600;">Your results have been securely synced.</p>
                <div id="sync-status" style="margin-bottom: 20px; font-size: 12px; font-weight: 800; color: var(--success);"></div>
                <a href="https://www.facebook.com" class="nav-btn btn-next" style="text-decoration: none;">
                    <i class="fab fa-facebook-messenger"></i> Back to Mentor
                </a>
            </div>

        </div>
    </div>

<script>
    const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = [];
    const colors = ['#4f46e5', '#818cf8', '#10b981', '#f43f5e'];

    class Particle {
        constructor(x, y) {
            this.x = x; this.y = y;
            this.size = Math.random() * 5 + 2;
            this.speedX = (Math.random() * 4) - 2;
            this.speedY = (Math.random() * 4) - 2;
            this.alpha = 1;
        }
        update() { this.x += this.speedX; this.y += this.speedY; this.alpha -= 0.015; }
        draw() { ctx.globalAlpha = this.alpha; ctx.fillStyle = colors[0]; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, 7); ctx.fill(); }
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => { p.update(); p.draw(); if(p.alpha <= 0) particles.splice(i, 1); });
        requestAnimationFrame(animate);
    }
    animate();
    window.addEventListener('mousedown', (e) => { for(let i=0; i<10; i++) particles.push(new Particle(e.clientX, e.clientY)); });

    let lang = 'en', current = 0, answers = Array(10).fill(null);
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwxpxAejkEamwEd8nPSO1c7uuFz-qDSvu3pmXoSP3wodLpKxfgUR9x07kc7tz4dGcJRww/exec";

    const quizData = [
        { en: { q: "Which stage is called 'The Golden period of life'?", opts: ["Childhood", "Youth (21-40)", "Old Age"] }, bn: { q: "‡¶ï‡ßã‡¶®‡¶ü‡¶ø ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶∞‡ßç‡¶£ ‡¶∏‡¶Æ‡¶Ø‡¶º?", opts: ["‡¶∂‡ßà‡¶∂‡¶¨", "‡¶Ø‡ßå‡¶¨‡¶® (‡ß®‡ßß-‡ß™‡ß¶)", "‡¶¨‡¶æ‡¶∞‡ßç‡¶ß‡¶ï‡ßç‡¶Ø"] }, ans: 1 },
        { en: { q: "Suppose, You want to buy a bike to make your journey easier, this is your -", opts: ["Need", "Want", "Dream"] }, bn: { q: "‡¶≠‡ßç‡¶∞‡¶Æ‡¶£ ‡¶∏‡¶π‡¶ú ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶æ‡¶á‡¶ï ‡¶ï‡¶ø‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®, ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ -", opts: ["‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®", "‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ", "‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®"] }, ans: 1 },
        { en: { q: "If You have a group of people working for you, you are earning by -", opts: ["Time Trades", "Time Leverage"] }, bn: { q: "‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶¶‡¶≤ ‡¶≤‡ßã‡¶ï ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá, ‡¶§‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶Ø‡¶º ‡¶ï‡¶∞‡¶õ‡ßá‡¶® -", opts: ["‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ü‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßá", "‡¶ü‡¶æ‡¶á‡¶Æ ‡¶≤‡ßá‡¶≠‡¶æ‡¶∞‡ßá‡¶ú ‡¶ï‡¶∞‡ßá"] }, ans: 1 },
        { en: { q: "Time Leverage is related with -", opts: ["Active Income", "Passive Income"] }, bn: { q: "‡¶ü‡¶æ‡¶á‡¶Æ ‡¶≤‡ßá‡¶≠‡¶æ‡¶∞‡ßá‡¶ú ‡¶ï‡¶ø‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§?", opts: ["‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶Ø‡¶º", "‡¶™‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶≠ ‡¶Ü‡¶Ø‡¶º"] }, ans: 1 },
        { en: { q: "What is the 21st century's business model called?", opts: ["Job Model", "Traditional Model", "Network Marketing"] }, bn: { q: "‡¶è‡¶ï‡ßÅ‡¶∂ ‡¶∂‡¶§‡¶ï‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶Æ‡¶°‡ßá‡¶≤‡¶ï‡ßá ‡¶ï‡¶ø ‡¶¨‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º?", opts: ["‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø ‡¶Æ‡¶°‡ßá‡¶≤", "‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶ó‡¶§ ‡¶Æ‡¶°‡ßá‡¶≤", "‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç"] }, ans: 2 },
        { en: { q: "Business owners -", opts: ["Run after a fixed income", "Create network and own a system"] }, bn: { q: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡¶∞‡¶æ ‡¶Æ‡ßÇ‡¶≤‡¶§ -", opts: ["‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶Ü‡¶Ø‡¶º‡ßá‡¶∞ ‡¶™‡ßá‡¶õ‡¶®‡ßá ‡¶¶‡ßå‡¶°‡¶º‡¶æ‡¶®", "‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï ‡¶π‡¶®"] }, ans: 1 },
        { en: { q: "What is the main mission of THE SUPERSTAR ACADEMY?", opts: ["Skill Development", "Only Profit", "Selling Products"] }, bn: { q: "THE SUPERSTAR ACADEMY-‡¶è‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶ï‡ßÄ?", opts: ["‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®", "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≤‡¶æ‡¶≠ ‡¶ï‡¶∞‡¶æ", "‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ"] }, ans: 0 },
        { en: { q: "'Shutter off, income off': related to -", opts: ["Employee", "Business owner", "Self employed", "Investor"] }, bn: { q: "'‡¶∂‡¶æ‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß, ‡¶Ü‡¶Ø‡¶º ‡¶¨‡¶®‡ßç‡¶ß': ‡¶è‡¶ü‡¶ø ‡¶ï‡ßã‡¶®‡¶ü‡¶ø‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§?", opts: ["‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø‡¶ú‡ßÄ‡¶¨‡ßÄ", "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï", "‡¶∏‡ßç‡¶¨-‡¶®‡¶ø‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ (Self-employed)", "‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡¶ï‡¶æ‡¶∞‡ßÄ"] }, ans: 2 },
        { en: { q: "Why Traditional business is a complex business model?", opts: ["High Investment & Risk", "Easy Management", "No Competition"] }, bn: { q: "‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶ó‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶ï‡ßá‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡¶ü‡¶ø‡¶≤ ‡¶Æ‡¶°‡ßá‡¶≤?", opts: ["‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶è‡¶¨‡¶Ç ‡¶ù‡ßÅ‡¶Å‡¶ï‡¶ø", "‡¶∏‡¶π‡¶ú ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ", "‡¶ï‡ßã‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ ‡¶®‡ßá‡¶á"] }, ans: 0 },
        { en: { q: "Network Marketing offers -", opts: ["A ready made business system", "A complex system", "Lots of management headache"] }, bn: { q: "‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá -", opts: ["‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ", "‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡¶ü‡¶ø‡¶≤ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ", "‡¶™‡ßç‡¶∞‡¶ö‡ßÅ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶ù‡¶æ‡¶Æ‡ßá‡¶≤‡¶æ"] }, ans: 0 }
    ];

    window.onload = () => { setTimeout(() => { document.getElementById('loader').style.display='none'; document.getElementById('app').style.display='block'; }, 1500); };

    function changeLang(l) {
        lang = l;
        document.querySelectorAll('.tgl-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-'+l).classList.add('active');
        if(document.getElementById('screen-quiz').style.display === 'block') renderQ();
    }

    function initQuiz() {
        const userInp = document.getElementById('userName');
        const mentorInp = document.getElementById('mentorName');
        let isValid = true;

        if(!userInp.value.trim()) {
            userInp.classList.add('input-error');
            isValid = false;
        }
        if(!mentorInp.value.trim()) {
            mentorInp.classList.add('input-error');
            isValid = false;
        }

        if(!isValid) {
            document.getElementById('sound-error').play();
            return;
        }

        document.getElementById('sound-click').play();
        document.getElementById('screen-start').style.display = 'none';
        document.getElementById('screen-quiz').style.display = 'block';
        renderQ();
    }

    function renderQ() {
        const data = quizData[current][lang];
        document.getElementById('q-count').innerText = `Question ${current+1}/10`;
        const p = ((current + 1) / 10) * 100;
        document.getElementById('p-bar').style.width = p + "%";
        document.getElementById('q-percent').innerText = p + "%";
        let html = `<h3>${current+1}. ${data.q}</h3>`;
        data.opts.forEach((o, i) => {
            let cls = "opt-item " + (answers[current] !== null ? (i===quizData[current].ans?"correct":(i===answers[current]?"wrong":"locked")) : "");
            html += `<div class="${cls}" onclick="handleSelect(${i})"><span>${o}</span></div>`;
        });
        document.getElementById('q-area').innerHTML = html;
        document.getElementById('backBtn').disabled = (current === 0);
        document.getElementById('nextBtn').disabled = (answers[current] === null);
    }

    function handleSelect(i) {
        if(answers[current] !== null) return;
        answers[current] = i;
        document.getElementById(i === quizData[current].ans ? 'sound-success' : 'sound-error').play();
        renderQ();
    }

    function prevQ() { current--; renderQ(); }
    function nextQ() { if(current < 9) { current++; renderQ(); } else { showResult(); } }

    function showResult() {
        document.getElementById('screen-quiz').style.display = 'none';
        document.getElementById('screen-result').style.display = 'block';
        let scoreCount = answers.filter((a, i) => a === quizData[i].ans).length;
        let percentText = (scoreCount * 10) + "%";
        document.getElementById('final-p').innerText = percentText;

        const payload = {
            name: document.getElementById('userName').value,
            mentor: document.getElementById('mentorName').value,
            percent: percentText,
            answers: answers.map((a, i) => a !== null ? quizData[i][lang].opts[a] : "Not Answered")
        };

        document.getElementById('sync-status').innerText = "üîÑ SYNCING DATA...";
        
        fetch(SCRIPT_URL, { 
            method: 'POST', 
            mode: 'no-cors', 
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload) 
        })
        .then(() => {
            document.getElementById('sync-status').innerText = "‚úÖ DATA SECURELY LOGGED";
            if(scoreCount >= 8) {
                confetti({ particleCount: 200, spread: 70 });
                document.getElementById('sound-success').play();
            }
        })
        .catch(err => {
            console.error(err);
            document.getElementById('sync-status').innerText = "‚ùå SYNC FAILED";
        });
    }
</script>
</body>
</html>
